(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,60453,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l={callServer:function(){return n.callServer},createServerReference:function(){return c.createServerReference},findSourceMapURL:function(){return s.findSourceMapURL}};for(var r in l)Object.defineProperty(a,r,{enumerable:!0,get:l[r]});let n=e.r(31931),s=e.r(94520),c=e.r(59818)},11995,e=>{"use strict";var t=e.i(63942);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M176.49,95.51a12,12,0,0,1,0,17l-56,56a12,12,0,0,1-17,0l-24-24a12,12,0,1,1,17-17L112,143l47.51-47.52A12,12,0,0,1,176.49,95.51ZM236,128A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),t.createElement("path",{d:"M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm45.66,85.66-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35a8,8,0,0,1,11.32,11.32Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M172.24,99.76a6,6,0,0,1,0,8.48l-56,56a6,6,0,0,1-8.48,0l-24-24a6,6,0,0,1,8.48-8.48L112,151.51l51.76-51.75A6,6,0,0,1,172.24,99.76ZM230,128A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M170.83,101.17a4,4,0,0,1,0,5.66l-56,56a4,4,0,0,1-5.66,0l-24-24a4,4,0,0,1,5.66-5.66L112,154.34l53.17-53.17A4,4,0,0,1,170.83,101.17ZM228,128A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"}))]]);e.s(["default",()=>a])},39119,e=>{"use strict";var t=e.i(63942),a=e.i(47912),l=e.i(11995);let r=t.forwardRef((e,r)=>t.createElement(a.default,{ref:r,...e,weights:l.default}));r.displayName="CheckCircleIcon",e.s(["CheckCircle",()=>r])},9170,e=>{"use strict";var t=e.i(63942),a=e.i(47912),l=e.i(33883);let r=t.forwardRef((e,r)=>t.createElement(a.default,{ref:r,...e,weights:l.default}));r.displayName="ArrowRightIcon",e.s(["ArrowRight",()=>r])},46991,e=>{"use strict";var t=e.i(63942),a=e.i(47912);let l=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm68-84a12,12,0,0,1-12,12H128a12,12,0,0,1-12-12V72a12,12,0,0,1,24,0v44h44A12,12,0,0,1,196,128Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm56,112H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm62-90a6,6,0,0,1-6,6H128a6,6,0,0,1-6-6V72a6,6,0,0,1,12,0v50h50A6,6,0,0,1,190,128Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm60-92a4,4,0,0,1-4,4H128a4,4,0,0,1-4-4V72a4,4,0,0,1,8,0v52h52A4,4,0,0,1,188,128Z"}))]]),r=t.forwardRef((e,r)=>t.createElement(a.default,{ref:r,...e,weights:l}));r.displayName="ClockIcon",e.s(["Clock",()=>r],46991)},4574,e=>{"use strict";function t(e){if(!e)return"-";let t=new Date(e);if(isNaN(t.getTime()))return"-";let a=String(t.getDate()).padStart(2,"0"),l=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return`${a}/${l}/${r}`}e.s(["formatToDDMMYYYY",()=>t])},99867,e=>{"use strict";var t=e.i(63942),a=e.i(47912),l=e.i(9709);let r=t.forwardRef((e,r)=>t.createElement(a.default,{ref:r,...e,weights:l.default}));r.displayName="MagnifyingGlassIcon",e.s(["MagnifyingGlass",()=>r])},47958,e=>{"use strict";var t=e.i(63942);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216.49,79.52l-56-56A12,12,0,0,0,152,20H56A20,20,0,0,0,36,40V216a20,20,0,0,0,20,20H200a20,20,0,0,0,20-20V88A12,12,0,0,0,216.49,79.52ZM160,57l23,23H160ZM60,212V44h76V92a12,12,0,0,0,12,12h48V212Zm112-80a12,12,0,0,1-12,12H96a12,12,0,0,1,0-24h64A12,12,0,0,1,172,132Zm0,40a12,12,0,0,1-12,12H96a12,12,0,0,1,0-24h64A12,12,0,0,1,172,172Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M208,88H152V32Z",opacity:"0.2"}),t.createElement("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Zm-32-80a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,136Zm0,32a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,168Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,176H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Zm0-32H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Zm-8-56V44l44,44Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M212.24,83.76l-56-56A6,6,0,0,0,152,26H56A14,14,0,0,0,42,40V216a14,14,0,0,0,14,14H200a14,14,0,0,0,14-14V88A6,6,0,0,0,212.24,83.76ZM158,46.48,193.52,82H158ZM200,218H56a2,2,0,0,1-2-2V40a2,2,0,0,1,2-2h90V88a6,6,0,0,0,6,6h50V216A2,2,0,0,1,200,218Zm-34-82a6,6,0,0,1-6,6H96a6,6,0,0,1,0-12h64A6,6,0,0,1,166,136Zm0,32a6,6,0,0,1-6,6H96a6,6,0,0,1,0-12h64A6,6,0,0,1,166,168Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Zm-32-80a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,136Zm0,32a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,168Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M210.83,85.17l-56-56A4,4,0,0,0,152,28H56A12,12,0,0,0,44,40V216a12,12,0,0,0,12,12H200a12,12,0,0,0,12-12V88A4,4,0,0,0,210.83,85.17ZM156,41.65,198.34,84H156ZM200,220H56a4,4,0,0,1-4-4V40a4,4,0,0,1,4-4h92V88a4,4,0,0,0,4,4h52V216A4,4,0,0,1,200,220Zm-36-84a4,4,0,0,1-4,4H96a4,4,0,0,1,0-8h64A4,4,0,0,1,164,136Zm0,32a4,4,0,0,1-4,4H96a4,4,0,0,1,0-8h64A4,4,0,0,1,164,168Z"}))]]);e.s(["default",()=>a])},96331,e=>{"use strict";var t=e.i(63942),a=e.i(47912),l=e.i(47958);let r=t.forwardRef((e,r)=>t.createElement(a.default,{ref:r,...e,weights:l.default}));r.displayName="FileTextIcon",e.s(["FileText",()=>r])},71018,e=>{"use strict";var t=e.i(63942);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm-12-80V80a12,12,0,0,1,24,0v52a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,172Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm-6-82V80a6,6,0,0,1,12,0v56a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,172Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm-4-84V80a4,4,0,0,1,8,0v56a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,172Z"}))]]);e.s(["default",()=>a])},21111,e=>{"use strict";var t=e.i(63942),a=e.i(47912),l=e.i(71018);let r=t.forwardRef((e,r)=>t.createElement(a.default,{ref:r,...e,weights:l.default}));r.displayName="WarningCircleIcon",e.s(["WarningCircle",()=>r])},66599,e=>{"use strict";var t=e.i(63942);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M244,56v64a12,12,0,0,1-24,0V85l-75.51,75.52a12,12,0,0,1-17,0L96,129,32.49,192.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0L136,135l67-67H168a12,12,0,0,1,0-24h64A12,12,0,0,1,244,56Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M232,56v64L168,56Z",opacity:"0.2"}),t.createElement("path",{d:"M232,48H168a8,8,0,0,0-5.66,13.66L188.69,88,136,140.69l-34.34-34.35a8,8,0,0,0-11.32,0l-72,72a8,8,0,0,0,11.32,11.32L96,123.31l34.34,34.35a8,8,0,0,0,11.32,0L200,99.31l26.34,26.35A8,8,0,0,0,240,120V56A8,8,0,0,0,232,48Zm-8,52.69L187.31,64H224Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M240,56v64a8,8,0,0,1-13.66,5.66L200,99.31l-58.34,58.35a8,8,0,0,1-11.32,0L96,123.31,29.66,189.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0L136,140.69,188.69,88,162.34,61.66A8,8,0,0,1,168,48h64A8,8,0,0,1,240,56Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M238,56v64a6,6,0,0,1-12,0V70.48l-85.76,85.76a6,6,0,0,1-8.48,0L96,120.49,28.24,188.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0L136,143.51,217.52,62H168a6,6,0,0,1,0-12h64A6,6,0,0,1,238,56Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M240,56v64a8,8,0,0,1-16,0V75.31l-82.34,82.35a8,8,0,0,1-11.32,0L96,123.31,29.66,189.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0L136,140.69,212.69,64H168a8,8,0,0,1,0-16h64A8,8,0,0,1,240,56Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M236,56v64a4,4,0,0,1-8,0V65.66l-89.17,89.17a4,4,0,0,1-5.66,0L96,117.66,26.83,186.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0L136,146.34,222.34,60H168a4,4,0,0,1,0-8h64A4,4,0,0,1,236,56Z"}))]]);e.s(["default",()=>a])},35686,e=>{"use strict";var t=e.i(83865),a=e.i(63942),l=e.i(96331),r=e.i(47912),n=e.i(66599);let s=a.forwardRef((e,t)=>a.createElement(r.default,{ref:t,...e,weights:n.default}));s.displayName="TrendUpIcon";var c=e.i(39119),i=e.i(46991),o=e.i(21111),d=e.i(99867),u=e.i(9170),m=e.i(4574),p=e.i(60453);let x=(0,p.createServerReference)("606ac5be30d99642bf968cc4560d413c12924b1b07",p.callServer,void 0,p.findSourceMapURL,"batchGenerateInvoices"),h=(0,p.createServerReference)("408a81e780507581004e0e5454a064703f06f6ddf8",p.callServer,void 0,p.findSourceMapURL,"reconcilePayment"),b=(0,p.createServerReference)("701294a399a30dc2c539a178ef7a090c8a82c06c3e",p.callServer,void 0,p.findSourceMapURL,"generateHousingInvoice"),f=(0,p.createServerReference)("40705f306876d039df0bfb029e22be448dc91162ee",p.callServer,void 0,p.findSourceMapURL,"searchStudents");function g({initialInvoices:e,initialPayments:r,students:n}){let[p,g]=(0,a.useState)(e),[v,j]=(0,a.useState)(r),[N,w]=(0,a.useState)("invoices"),[k,A]=(0,a.useState)(""),[y,E]=(0,a.useState)("ALL"),[Z,M]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[L,_]=(0,a.useState)(new Date().getMonth()+1),[H,V]=(0,a.useState)(new Date().getFullYear()),[I,F]=(0,a.useState)(!1),[R,D]=(0,a.useState)(""),[T,P]=(0,a.useState)(""),[G,O]=(0,a.useState)(""),[U,Y]=(0,a.useState)("HOUSING_DEPOSIT"),[$,z]=(0,a.useState)(""),[B,W]=(0,a.useState)(n),K={totalRevenue:v.filter(e=>"COMPLETED"===e.status).reduce((e,t)=>e+Number(t.amount),0),pendingInvoices:p.filter(e=>"PENDING"===e.status).length,totalInvoiced:p.reduce((e,t)=>e+Number(t.total_amount),0),completionRate:p.length>0?Math.round(p.filter(e=>"PAID"===e.status).length/p.length*100):0},q=p.filter(e=>{let t=e.reference_number.toLowerCase().includes(k.toLowerCase())||`${e.student?.user?.first_name} ${e.student?.user?.last_name}`.toLowerCase().includes(k.toLowerCase()),a="ALL"===y||e.status===y;return t&&a}),J=v.filter(e=>{let t=e.paygowire_transaction_id?.toLowerCase().includes(k.toLowerCase())||`${e.student?.user?.first_name} ${e.student?.user?.last_name}`.toLowerCase().includes(k.toLowerCase()),a="ALL"===y||e.status===y;return t&&a}),Q=async()=>{M(!0);try{let e=await x(L,H);e.success&&(alert(`Successfully generated ${e.count} invoices.`),C(!1),window.location.reload())}catch(e){alert(e.message)}finally{M(!1)}},X=async e=>{if(confirm("Are you sure you want to manually reconcile this payment?")){M(!0);try{(await h(e)).success&&(alert("Payment reconciled successfully."),window.location.reload())}catch(e){alert(e.message)}finally{M(!1)}}},ee=e=>{switch(e){case"PAID":case"COMPLETED":return"bg-green-100 text-green-700 border-green-200";case"PENDING":case"PROCESSING":return"bg-amber-100 text-amber-700 border-amber-200";case"FAILED":case"CANCELLED":case"OVERDUE":return"bg-red-100 text-red-700 border-red-200";default:return"bg-neutral-100 text-neutral-700 border-neutral-200"}};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-black uppercase tracking-tighter mb-1",children:"Finance Console"}),(0,t.jsx)("p",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Housing Payments & Invoice Management"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>F(!0),className:"px-4 py-2 border-2 border-black text-black rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-neutral-50 transition-all",children:"New Individual Invoice"}),(0,t.jsx)("button",{onClick:()=>C(!0),className:"px-4 py-2 bg-black text-white rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all",children:"Generate Batch Invoices"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white border-2 border-black p-6 rounded-sm shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)]",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsx)(s,{size:20,weight:"bold",className:"text-neutral-400"}),(0,t.jsx)("span",{className:"text-[8px] font-black uppercase text-green-600 bg-green-50 px-2 py-0.5 rounded-full",children:"+12% vs last mo"})]}),(0,t.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Total Revenue"}),(0,t.jsxs)("p",{className:"text-2xl font-black",children:["€",K.totalRevenue.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"bg-white border-2 border-black p-6 rounded-sm shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)]",children:[(0,t.jsx)(i.Clock,{size:20,weight:"bold",className:"text-amber-500 mb-2"}),(0,t.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Pending Invoices"}),(0,t.jsx)("p",{className:"text-2xl font-black",children:K.pendingInvoices})]}),(0,t.jsxs)("div",{className:"bg-white border-2 border-black p-6 rounded-sm shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)]",children:[(0,t.jsx)(l.FileText,{size:20,weight:"bold",className:"text-neutral-400 mb-2"}),(0,t.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Total Invoiced"}),(0,t.jsxs)("p",{className:"text-2xl font-black",children:["€",K.totalInvoiced.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"bg-white border-2 border-black p-6 rounded-sm shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)]",children:[(0,t.jsx)(c.CheckCircle,{size:20,weight:"bold",className:"text-neutral-400 mb-2"}),(0,t.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Collection Rate"}),(0,t.jsxs)("p",{className:"text-2xl font-black",children:[K.completionRate,"%"]})]})]}),(0,t.jsxs)("div",{className:"bg-white border-2 border-black p-4 rounded-sm flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(d.MagnifyingGlass,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400",size:16,weight:"bold"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by student or reference...",className:"w-full pl-10 pr-4 py-2 border-2 border-neutral-100 focus:border-black outline-none transition-all text-sm font-bold uppercase",value:k,onChange:e=>A(e.target.value)})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)("select",{className:"px-4 py-2 border-2 border-neutral-100 focus:border-black outline-none transition-all text-[10px] font-black uppercase tracking-widest bg-white",value:y,onChange:e=>E(e.target.value),children:[(0,t.jsx)("option",{value:"ALL",children:"All Status"}),(0,t.jsx)("option",{value:"PENDING",children:"Pending"}),(0,t.jsx)("option",{value:"PAID",children:"Paid"}),(0,t.jsx)("option",{value:"CANCELLED",children:"Cancelled"}),(0,t.jsx)("option",{value:"OVERDUE",children:"Overdue"})]})})]}),(0,t.jsx)("div",{className:"border-b-2 border-neutral-200",children:(0,t.jsxs)("div",{className:"flex gap-8",children:[(0,t.jsxs)("button",{onClick:()=>w("invoices"),className:`pb-4 text-[10px] font-black uppercase tracking-widest transition-all relative ${"invoices"===N?"text-black":"text-neutral-400 hover:text-neutral-600"}`,children:["Invoices","invoices"===N&&(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-black"})]}),(0,t.jsxs)("button",{onClick:()=>w("payments"),className:`pb-4 text-[10px] font-black uppercase tracking-widest transition-all relative ${"payments"===N?"text-black":"text-neutral-400 hover:text-neutral-600"}`,children:["Payments","payments"===N&&(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-black"})]})]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b-2 border-black",children:[(0,t.jsx)("th",{className:"text-left py-4 px-2 text-[10px] font-black uppercase tracking-widest text-neutral-400",children:"Reference / ID"}),(0,t.jsx)("th",{className:"text-left py-4 px-2 text-[10px] font-black uppercase tracking-widest text-neutral-400",children:"Student"}),(0,t.jsx)("th",{className:"text-left py-4 px-2 text-[10px] font-black uppercase tracking-widest text-neutral-400",children:"Amount"}),(0,t.jsx)("th",{className:"text-left py-4 px-2 text-[10px] font-black uppercase tracking-widest text-neutral-400",children:"Status"}),(0,t.jsx)("th",{className:"text-left py-4 px-2 text-[10px] font-black uppercase tracking-widest text-neutral-400",children:"Date"}),(0,t.jsx)("th",{className:"text-right py-4 px-2 text-[10px] font-black uppercase tracking-widest text-neutral-400",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:"invoices"===N?q.map(e=>(0,t.jsxs)("tr",{className:"border-b border-neutral-100 hover:bg-neutral-50 transition-colors",children:[(0,t.jsx)("td",{className:"py-4 px-2",children:(0,t.jsx)("p",{className:"font-black text-sm",children:e.reference_number})}),(0,t.jsxs)("td",{className:"py-4 px-2",children:[(0,t.jsxs)("p",{className:"font-bold text-sm",children:[e.student?.user?.first_name," ",e.student?.user?.last_name]}),(0,t.jsxs)("p",{className:"text-[8px] font-bold text-neutral-400 uppercase",children:["ID: ",e.student?.id]})]}),(0,t.jsx)("td",{className:"py-4 px-2",children:(0,t.jsxs)("p",{className:"font-black",children:["€",Number(e.total_amount).toLocaleString()]})}),(0,t.jsx)("td",{className:"py-4 px-2",children:(0,t.jsx)("span",{className:`px-2 py-1 border-2 rounded-sm text-[8px] font-black uppercase ${ee(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"py-4 px-2 text-[10px] font-bold text-neutral-500 uppercase",children:(0,m.formatToDDMMYYYY)(e.created_at)}),(0,t.jsx)("td",{className:"py-4 px-2 text-right",children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)("button",{className:"p-2 border border-neutral-200 rounded-sm hover:border-black transition-all",children:(0,t.jsx)(o.WarningCircle,{size:14,weight:"bold"})}),(0,t.jsx)("button",{className:"p-2 border border-neutral-200 rounded-sm hover:border-black transition-all",children:(0,t.jsx)(u.ArrowRight,{size:14,weight:"bold"})})]})})]},e.id)):J.map(e=>(0,t.jsxs)("tr",{className:"border-b border-neutral-100 hover:bg-neutral-50 transition-colors",children:[(0,t.jsxs)("td",{className:"py-4 px-2",children:[(0,t.jsx)("p",{className:"font-black text-sm truncate max-w-[120px]",children:e.paygowire_transaction_id||e.id.slice(0,8)}),(0,t.jsx)("p",{className:"text-[8px] font-bold text-neutral-400 uppercase",children:e.invoice?.reference_number})]}),(0,t.jsxs)("td",{className:"py-4 px-2",children:[(0,t.jsxs)("p",{className:"font-bold text-sm",children:[e.student?.user?.first_name," ",e.student?.user?.last_name]}),(0,t.jsxs)("p",{className:"text-[8px] font-bold text-neutral-400 uppercase",children:["Method: ",e.payment_method]})]}),(0,t.jsx)("td",{className:"py-4 px-2",children:(0,t.jsxs)("p",{className:"font-black",children:["€",Number(e.amount).toLocaleString()]})}),(0,t.jsx)("td",{className:"py-4 px-2",children:(0,t.jsx)("span",{className:`px-2 py-1 border-2 rounded-sm text-[8px] font-black uppercase ${ee(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"py-4 px-2 text-[10px] font-bold text-neutral-500 uppercase",children:(0,m.formatToDDMMYYYY)(e.created_at)}),(0,t.jsx)("td",{className:"py-4 px-2 text-right",children:(0,t.jsx)("button",{onClick:()=>X(e.id),disabled:"COMPLETED"===e.status||Z,className:"p-2 border border-neutral-200 rounded-sm hover:border-green-500 hover:text-green-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(c.CheckCircle,{size:14,weight:"bold"})})})]},e.id))})]})}),0===("invoices"===N?q:J).length&&(0,t.jsx)("div",{className:"py-20 text-center bg-white border-2 border-dashed border-neutral-200 rounded-sm",children:(0,t.jsx)("p",{className:"text-neutral-400 font-bold uppercase tracking-widest text-xs",children:"No records found matching your filters."})}),S&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white border-4 border-black p-8 max-w-md w-full shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[(0,t.jsx)("h2",{className:"text-xl font-black uppercase mb-4",children:"Batch Invoice Generation"}),(0,t.jsx)("p",{className:"text-sm text-neutral-600 mb-6 font-bold uppercase tracking-tight",children:"Select the month and year to generate rent invoices for all active housing assignments."}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Month"}),(0,t.jsx)("select",{className:"w-full px-2 py-1 border-2 border-black font-bold outline-none",value:L,onChange:e=>_(Number(e.target.value)),children:Array.from({length:12},(e,a)=>(0,t.jsx)("option",{value:a+1,children:new Intl.DateTimeFormat("en-US",{month:"long"}).format(new Date(2026,a))},a+1))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Year"}),(0,t.jsxs)("select",{className:"w-full px-2 py-1 border-2 border-black font-bold outline-none",value:H,onChange:e=>V(Number(e.target.value)),children:[(0,t.jsx)("option",{value:2026,children:"2026"}),(0,t.jsx)("option",{value:2027,children:"2027"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>C(!1),className:"flex-1 py-3 border-2 border-black text-[10px] font-black uppercase tracking-widest hover:bg-neutral-100 transition-all",children:"Cancel"}),(0,t.jsx)("button",{onClick:Q,disabled:Z,className:"flex-1 py-3 bg-black text-white text-[10px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all disabled:opacity-50",children:Z?"Generating...":"Run Batch"})]})]})}),I&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white border-4 border-black p-8 max-w-lg w-full shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[(0,t.jsx)("h2",{className:"text-xl font-black uppercase mb-4",children:"Create Individual Invoice"}),(0,t.jsx)("p",{className:"text-sm text-neutral-600 mb-6 font-bold uppercase tracking-tight",children:"Generate a custom invoice for a specific student."}),(0,t.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Select Student"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search by name or ID...",className:"w-full px-4 py-3 border-2 border-black font-bold outline-none mb-2",value:$,onChange:async e=>{z(e.target.value),e.target.value.length>2?W(await f(e.target.value)):0===e.target.value.length&&W(n)}}),$&&""===R&&(0,t.jsx)("div",{className:"bg-white border-2 border-black max-h-40 overflow-y-auto mb-4",children:B.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>{D(e.id),z(`${e.user?.first_name} ${e.user?.last_name}`),W([])},className:`w-full text-left px-4 py-2 text-xs font-bold uppercase hover:bg-neutral-50 ${R===e.id?"bg-neutral-100":""}`,children:[e.user?.first_name," ",e.user?.last_name," (",e.student_id,")"]},e.id))}),R&&(0,t.jsx)("button",{onClick:()=>{D(""),z(""),W(n)},className:"text-[8px] font-bold text-red-500 uppercase tracking-widest mt-1 hover:underline",children:"Change Student"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Amount (€)"}),(0,t.jsx)("input",{type:"number",className:"w-full px-4 py-3 border-2 border-black font-bold outline-none",placeholder:"0.00",value:T,onChange:e=>P(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Type"}),(0,t.jsxs)("select",{className:"w-full px-4 py-3 border-2 border-black font-bold outline-none bg-white",value:U,onChange:e=>Y(e.target.value),children:[(0,t.jsx)("option",{value:"HOUSING_DEPOSIT",children:"Deposit"}),(0,t.jsx)("option",{value:"MONTHLY_RENT",children:"Monthly Rent"}),(0,t.jsx)("option",{value:"UTILITIES",children:"Utilities"}),(0,t.jsx)("option",{value:"CLEANING_FEE",children:"Cleaning Fee"}),(0,t.jsx)("option",{value:"LATE_FEE",children:"Late Fee"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Description"}),(0,t.jsx)("textarea",{className:"w-full px-4 py-3 border-2 border-black font-bold outline-none",rows:2,placeholder:"e.g., Security Deposit for Block A",value:G,onChange:e=>O(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>{F(!1),D(""),z(""),P(""),O("")},className:"flex-1 py-3 border-2 border-black text-[10px] font-black uppercase tracking-widest hover:bg-neutral-100 transition-all",children:"Cancel"}),(0,t.jsx)("button",{onClick:async()=>{if(!R||!T||!G)return void alert("Please fill all fields");M(!0);try{await b(R,null,[{description:G,type:U,amount:Number(T)}]),alert("Invoice generated successfully"),window.location.reload()}catch(e){alert(e.message)}finally{M(!1)}},disabled:Z,className:"flex-1 py-3 bg-black text-white text-[10px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all disabled:opacity-50",children:Z?"Generating...":"Create Invoice"})]})]})})]})}e.s(["default",()=>g],35686)}]);