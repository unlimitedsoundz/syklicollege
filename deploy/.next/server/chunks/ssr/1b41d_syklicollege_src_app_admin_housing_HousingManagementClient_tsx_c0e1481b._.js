module.exports=[88269,a=>{"use strict";var b=a.i(47242),c=a.i(5177),d=a.i(11021),e=a.i(17608),f=a.i(45418),g=a.i(53594),h=a.i(19284),i=a.i(28205),j=a.i(55205);let k=new Map([["bold",c.createElement(c.Fragment,null,c.createElement("path",{d:"M212,68H36V48a12,12,0,0,0-24,0V208a12,12,0,0,0,24,0V180H232v28a12,12,0,0,0,24,0V112A44.05,44.05,0,0,0,212,68ZM100,156H36V92h64Zm132,0H124V92h88a20,20,0,0,1,20,20Z"}))],["duotone",c.createElement(c.Fragment,null,c.createElement("path",{d:"M248,112v56H112V80H216A32,32,0,0,1,248,112Z",opacity:"0.2"}),c.createElement("path",{d:"M216,72H32V48a8,8,0,0,0-16,0V208a8,8,0,0,0,16,0V176H240v32a8,8,0,0,0,16,0V112A40,40,0,0,0,216,72ZM32,88h72v72H32Zm88,72V88h96a24,24,0,0,1,24,24v48Z"}))],["fill",c.createElement(c.Fragment,null,c.createElement("path",{d:"M216,72H32V48a8,8,0,0,0-16,0V208a8,8,0,0,0,16,0V176H240v32a8,8,0,0,0,16,0V112A40,40,0,0,0,216,72ZM32,88h72v72H32Z"}))],["light",c.createElement(c.Fragment,null,c.createElement("path",{d:"M216,74H30V48a6,6,0,0,0-12,0V208a6,6,0,0,0,12,0V174H242v34a6,6,0,0,0,12,0V112A38,38,0,0,0,216,74ZM30,86h76v76H30Zm88,76V86h98a26,26,0,0,1,26,26v50Z"}))],["regular",c.createElement(c.Fragment,null,c.createElement("path",{d:"M216,72H32V48a8,8,0,0,0-16,0V208a8,8,0,0,0,16,0V176H240v32a8,8,0,0,0,16,0V112A40,40,0,0,0,216,72ZM32,88h72v72H32Zm88,72V88h96a24,24,0,0,1,24,24v48Z"}))],["thin",c.createElement(c.Fragment,null,c.createElement("path",{d:"M216,76H28V48a4,4,0,0,0-8,0V208a4,4,0,0,0,8,0V172H244v36a4,4,0,0,0,8,0V112A36,36,0,0,0,216,76ZM28,84h80v80H28Zm88,80V84H216a28,28,0,0,1,28,28v52Z"}))]]),l=c.forwardRef((a,b)=>c.createElement(j.default,{ref:b,...a,weights:k}));l.displayName="BedIcon";let m=new Map([["bold",c.createElement(c.Fragment,null,c.createElement("path",{d:"M192.94,189.66a12,12,0,0,1-.94,17A84,84,0,0,1,53.55,160H40a12,12,0,0,1,0-24H52V120H40a12,12,0,0,1,0-24H53.55A84,84,0,0,1,192,49.39a12,12,0,0,1-16,17.89A60,60,0,0,0,78.18,96H136a12,12,0,0,1,0,24H76v16h44a12,12,0,0,1,0,24H78.18A60,60,0,0,0,176,188.72,12,12,0,0,1,192.94,189.66Z"}))],["duotone",c.createElement(c.Fragment,null,c.createElement("path",{d:"M184,58.33V197.67A72,72,0,0,1,64,144V112A72,72,0,0,1,184,58.33Z",opacity:"0.2"}),c.createElement("path",{d:"M190,192.33a8,8,0,0,1-.63,11.3A80,80,0,0,1,56.4,152H40a8,8,0,0,1,0-16H56V120H40a8,8,0,0,1,0-16H56.4A80,80,0,0,1,189.34,52.37,8,8,0,0,1,178.66,64.3,64,64,0,0,0,72.52,104H136a8,8,0,0,1,0,16H72v16h48a8,8,0,0,1,0,16H72.52a64,64,0,0,0,106.14,39.71A8,8,0,0,1,190,192.33Z"}))],["fill",c.createElement(c.Fragment,null,c.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,80a8,8,0,0,1,0,16H88v16h24a8,8,0,0,1,0,16H88.81a40,40,0,0,0,65.86,21.82,8,8,0,1,1,10.66,11.92A56,56,0,0,1,72.58,152H64a8,8,0,0,1,0-16h8V120H64a8,8,0,0,1,0-16h8.58a56,56,0,0,1,92.75-33.74,8,8,0,1,1-10.66,11.92A40,40,0,0,0,88.81,104Z"}))],["light",c.createElement(c.Fragment,null,c.createElement("path",{d:"M188.47,193.66a6,6,0,0,1-.47,8.48A78,78,0,0,1,58.25,150H40a6,6,0,0,1,0-12H58V118H40a6,6,0,0,1,0-12H58.25A78,78,0,0,1,188,53.86a6,6,0,0,1-8,9A66,66,0,0,0,70.29,106H136a6,6,0,0,1,0,12H70v20h50a6,6,0,0,1,0,12H70.29A66,66,0,0,0,180,193.2,6,6,0,0,1,188.47,193.66Z"}))],["regular",c.createElement(c.Fragment,null,c.createElement("path",{d:"M190,192.33a8,8,0,0,1-.63,11.3A80,80,0,0,1,56.4,152H40a8,8,0,0,1,0-16H56V120H40a8,8,0,0,1,0-16H56.4A80,80,0,0,1,189.34,52.37,8,8,0,0,1,178.66,64.3,64,64,0,0,0,72.52,104H136a8,8,0,0,1,0,16H72v16h48a8,8,0,0,1,0,16H72.52a64,64,0,0,0,106.14,39.71A8,8,0,0,1,190,192.33Z"}))],["thin",c.createElement(c.Fragment,null,c.createElement("path",{d:"M187,195a4,4,0,0,1-.31,5.65A76,76,0,0,1,60.11,148H40a4,4,0,0,1,0-8H60V116H40a4,4,0,0,1,0-8H60.11A76,76,0,0,1,186.67,55.35a4,4,0,1,1-5.34,6A68,68,0,0,0,68.13,108H136a4,4,0,0,1,0,8H68v24h52a4,4,0,0,1,0,8H68.13a68,68,0,0,0,113.2,46.69A4,4,0,0,1,187,195Z"}))]]),n=c.forwardRef((a,b)=>c.createElement(j.default,{ref:b,...a,weights:m}));n.displayName="CurrencyEurIcon";var o=a.i(11739),p=a.i(13320),q=a.i(32632);let r=c.forwardRef((a,b)=>c.createElement(j.default,{ref:b,...a,weights:q.default}));r.displayName="XIcon";var s=a.i(28713),t=a.i(96779),u=a.i(37569);let v=(0,u.createServerReference)("40fbfd8d3156d2d1d7590e75aab7cdc5ba5184aaf2",u.callServer,void 0,u.findSourceMapURL,"createBuilding"),w=(0,u.createServerReference)("40cd65d5d20c8b9206666b81c4e413758d921d1953",u.callServer,void 0,u.findSourceMapURL,"createRoom"),x=(0,u.createServerReference)("40499e544b1354c16ef9a565a39d86938ac84f5917",u.callServer,void 0,u.findSourceMapURL,"deleteHousingApplication"),y=(0,u.createServerReference)("40698372ac8df9a0712f1734cb4a40e1b201b9d4d0",u.callServer,void 0,u.findSourceMapURL,"deleteHousingAssignment"),z=(0,u.createServerReference)("40f87ed01b784d9871b2eeba883aa4e9688e33793d",u.callServer,void 0,u.findSourceMapURL,"deleteHousingRoom"),A=(0,u.createServerReference)("403ad30637d3edde8d4724442a842dc17443bd7d77",u.callServer,void 0,u.findSourceMapURL,"deleteHousingBuilding"),B=(0,u.createServerReference)("601c286942e492cf95ebcec9a34a751e7dd7ec06c3",u.callServer,void 0,u.findSourceMapURL,"updateBuilding"),C=(0,u.createServerReference)("601d2b37756c408f924b5a2c09e729de92fc80c241",u.callServer,void 0,u.findSourceMapURL,"updateRoom");function D({applications:a,availableRooms:j,assignments:k,buildings:m}){let[q,u]=(0,c.useState)("applications"),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(!1),[R,S]=(0,c.useState)({name:"",campus_location:""}),[T,U]=(0,c.useState)({building_id:"",room_number:"",capacity:1,monthly_rate:600}),[V,W]=(0,c.useState)(null),[X,Y]=(0,c.useState)({name:"",campus_location:""}),[Z,$]=(0,c.useState)(null),[_,aa]=(0,c.useState)({room_number:"",capacity:1,monthly_rate:600}),ab=a.filter(a=>("PENDING"===a.status||"APPROVED"===a.status)&&!k.some(b=>b.application_id===a.id)),ac=a.filter(a=>"APPROVED"===a.status);a.filter(a=>"REJECTED"===a.status);let ad={totalApplications:a.length,pending:ab.length,approved:ac.length,totalAssignments:k.length,availableRooms:j.length,totalBuildings:m.length},ae=async(a,b)=>{K(!0),M("");try{let c=await fetch("/api/admin/housing/assign-room",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({applicationId:a,roomId:b})}),d=await c.json();d.success?(I(!1),G(null),window.location.reload()):M(d.error||"Failed to assign room")}catch(a){M(a.message||"An error occurred")}finally{K(!1)}},af=async a=>{if(window.confirm("Are you sure you want to PERMANENTLY delete this housing application? This will also remove associated invoices and payment records.")){K(!0);try{await x(a),window.location.reload()}catch(a){alert(a.message)}finally{K(!1)}}},ag=async a=>{if(window.confirm("Are you sure you want to remove this assignment? The room will become available again.")){K(!0);try{await y(a),window.location.reload()}catch(a){alert(a.message)}finally{K(!1)}}},ah=async a=>{if(window.confirm("Are you sure you want to delete this room?")){K(!0);try{await z(a),window.location.reload()}catch(a){alert(a.message)}finally{K(!1)}}},ai=async a=>{if(window.confirm("Are you sure you want to delete this entire building? This will only work if the building has no rooms.")){K(!0);try{await A(a),window.location.reload()}catch(a){alert(a.message)}finally{K(!1)}}},aj=async a=>{K(!0);try{await B(a,X),W(null),window.location.reload()}catch(a){alert(a.message)}finally{K(!1)}},ak=async a=>{K(!0);try{await C(a,_),$(null),window.location.reload()}catch(a){alert(a.message)}finally{K(!1)}};return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-black uppercase tracking-tighter mb-1",children:"Housing Management"}),(0,b.jsx)("p",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Review Applications & Assign Rooms"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)(t.default,{href:"/admin/housing/finance",className:"px-6 py-3 bg-neutral-100 border-2 border-black rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-black hover:text-white transition-all flex items-center gap-2",children:[(0,b.jsx)(n,{size:14,weight:"bold"})," Finance Console"]}),(0,b.jsxs)("button",{onClick:()=>O(!0),className:"px-6 py-3 bg-black text-white rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all flex items-center gap-2",children:[(0,b.jsx)(o.Plus,{size:14,weight:"bold"})," Add Building"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[(0,b.jsxs)("div",{className:"bg-white border-2 border-black p-4 rounded-sm",children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Total Applications"}),(0,b.jsx)("p",{className:"text-2xl font-black",children:ad.totalApplications})]}),(0,b.jsxs)("div",{className:"bg-amber-50 border-2 border-amber-500 p-4 rounded-sm",children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-amber-600 mb-1",children:"Pending"}),(0,b.jsx)("p",{className:"text-2xl font-black text-amber-700",children:ad.pending})]}),(0,b.jsxs)("div",{className:"bg-green-50 border-2 border-green-500 p-4 rounded-sm",children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-green-600 mb-1",children:"Approved"}),(0,b.jsx)("p",{className:"text-2xl font-black text-green-700",children:ad.approved})]}),(0,b.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-500 p-4 rounded-sm",children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-blue-600 mb-1",children:"Assignments"}),(0,b.jsx)("p",{className:"text-2xl font-black text-blue-700",children:ad.totalAssignments})]}),(0,b.jsxs)("div",{className:"bg-white border-2 border-black p-4 rounded-sm",children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Available Rooms"}),(0,b.jsx)("p",{className:"text-2xl font-black",children:ad.availableRooms})]}),(0,b.jsxs)("div",{className:"bg-white border-2 border-black p-4 rounded-sm",children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Buildings"}),(0,b.jsx)("p",{className:"text-2xl font-black",children:ad.totalBuildings})]})]}),(0,b.jsx)("div",{className:"border-b-2 border-neutral-200",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("button",{onClick:()=>u("applications"),className:`px-4 py-2 text-[10px] font-black uppercase tracking-widest transition-all ${"applications"===q?"text-black border-b-2 border-black -mb-0.5":"text-neutral-400 hover:text-neutral-600"}`,children:["Applications (",ab.length,")"]}),(0,b.jsxs)("button",{onClick:()=>u("assignments"),className:`px-4 py-2 text-[10px] font-black uppercase tracking-widest transition-all ${"assignments"===q?"text-black border-b-2 border-black -mb-0.5":"text-neutral-400 hover:text-neutral-600"}`,children:["Assignments (",k.length,")"]}),(0,b.jsxs)("button",{onClick:()=>u("buildings"),className:`px-4 py-2 text-[10px] font-black uppercase tracking-widest transition-all ${"buildings"===q?"text-black border-b-2 border-black -mb-0.5":"text-neutral-400 hover:text-neutral-600"}`,children:["Buildings & Rooms (",m.length,")"]})]})}),"applications"===q?(0,b.jsx)("div",{className:"space-y-4",children:0===ab.length?(0,b.jsxs)("div",{className:"bg-neutral-50 border-2 border-neutral-200 p-12 rounded-sm text-center",children:[(0,b.jsx)(g.Clock,{size:48,weight:"regular",className:"mx-auto text-neutral-300 mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-black uppercase mb-2",children:"No Applications Requiring Action"}),(0,b.jsx)("p",{className:"text-sm text-neutral-600",children:"All applications are either pending payment or already assigned."})]}):ab.map(a=>(0,b.jsxs)("div",{className:"bg-white border-2 border-black p-6 rounded-sm shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)]",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("h3",{className:"text-lg font-black uppercase",children:[a.student?.user?.first_name," ",a.student?.user?.last_name]}),(0,b.jsxs)("p",{className:"text-[10px] font-bold text-neutral-500 uppercase mt-1",children:["Student ID: ",a.student?.user?.student_number||a.student?.student_id||"N/A"]})]}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-[8px] font-black uppercase ${"APPROVED"===a.status?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:"APPROVED"===a.status?"Deposit Paid":a.status})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Semester"}),(0,b.jsx)("p",{className:"font-bold",children:a.semester?.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Preferred Building"}),(0,b.jsx)("p",{className:"font-bold",children:a.preferred_building?.name||"No Preference"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Move-in Date"}),(0,b.jsx)("p",{className:"font-bold",children:new Date(a.move_in_date).toISOString().split("T")[0]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Move-out Date"}),(0,b.jsx)("p",{className:"font-bold",children:new Date(a.move_out_date).toISOString().split("T")[0]})]})]}),a.notes&&(0,b.jsxs)("div",{className:"mb-4 p-3 bg-neutral-50 rounded-sm",children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Notes"}),(0,b.jsx)("p",{className:"text-sm",children:a.notes})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>{G(a),I(!0)},className:"px-4 py-2 bg-black text-white rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all flex items-center gap-2",children:[(0,b.jsx)(l,{size:14,weight:"bold"})," Assign Room"]}),(0,b.jsxs)("button",{onClick:()=>af(a.id),className:"px-4 py-2 border-2 border-red-200 text-red-600 rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-red-50 transition-all flex items-center gap-2",children:[(0,b.jsx)(e.Trash,{size:14,weight:"bold"})," Delete"]})]})]},a.id))}):"assignments"===q?(0,b.jsx)("div",{className:"space-y-4",children:0===k.length?(0,b.jsxs)("div",{className:"bg-neutral-50 border-2 border-neutral-200 p-12 rounded-sm text-center",children:[(0,b.jsx)(f.House,{size:48,weight:"regular",className:"mx-auto text-neutral-300 mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-black uppercase mb-2",children:"No Room Assignments"}),(0,b.jsx)("p",{className:"text-sm text-neutral-600",children:"No students have been assigned rooms yet."})]}):k.map(a=>(0,b.jsxs)("div",{className:"bg-white border-2 border-green-500 p-6 rounded-sm",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-black uppercase",children:[a.student?.user?.first_name," ",a.student?.user?.last_name]}),(0,b.jsxs)("p",{className:"text-[10px] font-bold text-neutral-500 uppercase mt-1",children:["Student ID: ",a.student?.user?.student_number||a.student?.student_id||"N/A"]})]}),(0,b.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-[8px] font-black uppercase",children:a.status}),(0,b.jsx)("button",{onClick:()=>ag(a.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-sm transition-all",title:"Remove Assignment",children:(0,b.jsx)(h.XCircle,{size:20,weight:"bold"})})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Building"}),(0,b.jsx)("p",{className:"font-bold",children:a.room?.building?.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Room Number"}),(0,b.jsx)("p",{className:"font-bold",children:a.room?.room_number})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Duration"}),(0,b.jsxs)("p",{className:"text-sm",children:[new Date(a.start_date).toISOString().split("T")[0]," - ",new Date(a.end_date).toISOString().split("T")[0]]})]})]})]},a.id))}):(0,b.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:m.map(a=>{let c=j.filter(b=>b.building_id===a.id),f=Math.round(k.filter(b=>b.room?.building_id===a.id).length/10*100);return(0,b.jsxs)("div",{className:"bg-white border-2 border-black p-6 rounded-sm shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)]",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[V===a.id?(0,b.jsxs)("div",{className:"flex-1 space-y-2 mr-4",children:[(0,b.jsx)("input",{className:"w-full px-2 py-1 text-sm border-2 border-black font-bold outline-none",value:X.name,onChange:a=>Y({...X,name:a.target.value})}),(0,b.jsx)("input",{className:"w-full px-2 py-1 text-[10px] border-2 border-neutral-200 font-bold outline-none",value:X.campus_location,onChange:a=>Y({...X,campus_location:a.target.value})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>aj(a.id),className:"p-1 bg-black text-white rounded-sm hover:bg-neutral-800",children:(0,b.jsx)(p.Check,{size:14,weight:"bold"})}),(0,b.jsx)("button",{onClick:()=>W(null),className:"p-1 border-2 border-neutral-200 rounded-sm hover:bg-neutral-100",children:(0,b.jsx)(r,{size:14,weight:"bold"})})]})]}):(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-black uppercase tracking-tighter",children:a.name}),(0,b.jsx)("p",{className:"text-[10px] font-bold text-neutral-500 uppercase",children:a.campus_location})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[V!==a.id&&(0,b.jsx)("button",{onClick:()=>{W(a.id),Y({name:a.name,campus_location:a.campus_location})},className:"p-2 text-neutral-600 hover:bg-neutral-50 rounded-sm transition-all",title:"Edit Building",children:(0,b.jsx)(d.PencilSimple,{size:20,weight:"bold"})}),(0,b.jsx)("button",{onClick:()=>ai(a.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-sm transition-all",title:"Delete Building",children:(0,b.jsx)(e.Trash,{size:20})}),(0,b.jsx)(i.Buildings,{className:"text-neutral-400",size:24,weight:"regular"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Occupancy"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex-1 h-2 bg-neutral-100 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-black transition-all",style:{width:`${f}%`}})}),(0,b.jsxs)("span",{className:"text-xs font-bold",children:[f,"%"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Avail. Rooms"}),(0,b.jsx)("p",{className:"text-lg font-black",children:c.length})]})]}),(0,b.jsx)("button",{onClick:()=>E(a),className:"w-full px-4 py-2 border-2 border-black text-[10px] font-black uppercase tracking-widest hover:bg-black hover:text-white transition-all",children:"View Room Details"})]},a.id)})}),D&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white border-4 border-black rounded-sm max-w-4xl w-full max-h-[90vh] overflow-y-auto p-8 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tighter",children:D.name}),(0,b.jsx)("p",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest",children:D.campus_location})]}),(0,b.jsx)("button",{onClick:()=>E(null),className:"p-2 border-2 border-black hover:bg-neutral-100 transition-all",children:(0,b.jsx)(h.XCircle,{size:20})})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b-2 border-neutral-100 pb-4",children:[(0,b.jsx)("h3",{className:"text-sm font-black uppercase",children:"Room Inventory"}),(0,b.jsxs)("button",{onClick:()=>Q(!0),className:"px-4 py-2 bg-black text-white rounded-sm text-[8px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all",children:[(0,b.jsx)(o.Plus,{size:10,weight:"bold",className:"inline mr-1"})," Add Room"]})]}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[j.filter(a=>a.building_id===D.id).map(a=>(0,b.jsxs)("div",{className:"p-4 border-2 border-green-200 bg-green-50 rounded-sm relative group",children:[(0,b.jsx)("div",{className:"flex justify-between items-start mb-2",children:Z===a.id?(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("input",{className:"w-20 px-1 py-0.5 text-sm border-2 border-black font-bold outline-none",value:_.room_number,onChange:a=>aa({..._,room_number:a.target.value})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>ak(a.id),className:"p-1 bg-black text-white rounded-sm",children:(0,b.jsx)(p.Check,{size:10,weight:"bold"})}),(0,b.jsx)("button",{onClick:()=>$(null),className:"p-1 border border-neutral-300 rounded-sm",children:(0,b.jsx)(r,{size:10,weight:"bold"})})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("p",{className:"font-black text-lg",children:["#",a.room_number]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("button",{onClick:()=>{$(a.id),aa({room_number:a.room_number,capacity:a.capacity,monthly_rate:a.monthly_rate})},className:"p-1 text-neutral-400 hover:text-black transition-opacity",children:(0,b.jsx)(d.PencilSimple,{size:12,weight:"bold"})}),(0,b.jsx)("span",{className:"text-[8px] font-black uppercase bg-green-200 text-green-700 px-2 py-0.5 rounded-full",children:"Available"})]})]})}),(0,b.jsx)("div",{className:"text-[10px] space-y-1",children:Z===a.id?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("input",{type:"number",className:"px-1 py-0.5 border border-neutral-300 outline-none",value:_.capacity,onChange:a=>aa({..._,capacity:Number(a.target.value)}),placeholder:"Cap"}),(0,b.jsx)("input",{type:"number",className:"px-1 py-0.5 border border-neutral-300 outline-none",value:_.monthly_rate,onChange:a=>aa({..._,monthly_rate:Number(a.target.value)}),placeholder:"€"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("p",{className:"font-bold uppercase text-neutral-500",children:["Capacity: ",a.capacity]}),(0,b.jsxs)("p",{className:"font-bold uppercase text-neutral-500",children:["Rate: €",a.monthly_rate,"/mo"]})]})}),(0,b.jsx)("button",{onClick:()=>ah(a.id),className:"mt-3 w-full py-1 text-[8px] font-black uppercase text-red-600 border border-red-200 hover:bg-red-50 rounded-sm transition-all",children:"Delete Room"})]},a.id)),k.filter(a=>a.room?.building_id===D.id).map(a=>(0,b.jsxs)("div",{className:"p-4 border-2 border-neutral-200 bg-neutral-50 rounded-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsxs)("p",{className:"font-black text-lg",children:["#",a.room?.room_number]}),(0,b.jsx)("span",{className:"text-[8px] font-black uppercase bg-neutral-200 text-neutral-500 px-2 py-0.5 rounded-full",children:"Occupied"})]}),(0,b.jsxs)("div",{className:"text-[10px] space-y-1",children:[(0,b.jsxs)("p",{className:"font-black text-black",children:["OCCUPIED BY: ",a.student?.user?.first_name," ",a.student?.user?.last_name]}),(0,b.jsxs)("p",{className:"font-bold uppercase text-neutral-500",children:["Until: ",(0,s.formatToDDMMYYYY)(a.end_date)]})]})]},a.id))]})})]})}),H&&F&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white border-4 border-black rounded-sm max-w-2xl w-full max-h-[80vh] overflow-y-auto p-8",children:[(0,b.jsxs)("h2",{className:"text-xl font-black uppercase mb-6",children:["Assign Room to ",F.student?.user?.first_name," ",F.student?.user?.last_name]}),L&&(0,b.jsx)("div",{className:"bg-red-50 border-2 border-red-200 p-4 rounded-sm mb-6",children:(0,b.jsx)("p",{className:"text-sm text-red-600 font-medium",children:L})}),(0,b.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,b.jsxs)("p",{className:"text-sm",children:[(0,b.jsx)("strong",{children:"Preferred Building:"})," ",F.preferred_building?.name||"No preference"]}),(0,b.jsxs)("p",{className:"text-sm",children:[(0,b.jsx)("strong",{children:"Available Rooms:"})," ",j.length]})]}),(0,b.jsx)("div",{className:"space-y-3 mb-6 max-h-96 overflow-y-auto",children:j.map(a=>(0,b.jsx)("button",{onClick:()=>ae(F.id,a.id),disabled:J,className:"w-full text-left p-4 border-2 border-neutral-200 rounded-sm hover:border-black transition-all disabled:opacity-50",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-black",children:[a.building?.name," - Room ",a.room_number]}),(0,b.jsx)("p",{className:"text-sm text-neutral-600",children:a.building?.campus_location}),(0,b.jsxs)("p",{className:"text-xs text-neutral-500 mt-1",children:["Capacity: ",a.capacity," | €",a.monthly_rate,"/month"]})]}),(0,b.jsx)(l,{className:"text-neutral-400",size:24,weight:"regular"})]})},a.id))}),(0,b.jsx)("button",{onClick:()=>{I(!1),G(null),M("")},className:"w-full px-4 py-3 border-2 border-black rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-neutral-100 transition-all",children:"Cancel"})]})}),N&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white border-4 border-black p-8 max-w-md w-full shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[(0,b.jsx)("h2",{className:"text-xl font-black uppercase mb-6",children:"Add New Building"}),(0,b.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Building Name"}),(0,b.jsx)("input",{className:"w-full px-4 py-2 border-2 border-black font-bold outline-none",value:R.name,onChange:a=>S({...R,name:a.target.value}),placeholder:"e.g. North Hall"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Campus Location"}),(0,b.jsx)("input",{className:"w-full px-4 py-2 border-2 border-black font-bold outline-none",value:R.campus_location,onChange:a=>S({...R,campus_location:a.target.value}),placeholder:"e.g. Helsinki Campus"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{onClick:()=>O(!1),className:"flex-1 py-3 border-2 border-black text-[10px] font-black uppercase tracking-widest hover:bg-neutral-100 transition-all",children:"Cancel"}),(0,b.jsx)("button",{onClick:async()=>{K(!0);try{await v(R),O(!1),window.location.reload()}catch(a){alert(a.message)}finally{K(!1)}},disabled:J||!R.name||!R.campus_location,className:"flex-1 py-3 bg-black text-white text-[10px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all disabled:opacity-50",children:J?"Adding...":"Confirm"})]})]})}),P&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white border-4 border-black p-8 max-w-md w-full shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[(0,b.jsx)("h2",{className:"text-xl font-black uppercase mb-6",children:"Add New Room"}),(0,b.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Select Building"}),(0,b.jsxs)("select",{className:"w-full px-4 py-2 border-2 border-black font-bold outline-none bg-white",value:T.building_id,onChange:a=>U({...T,building_id:a.target.value}),children:[(0,b.jsx)("option",{value:"",children:"Choose Building..."}),m.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Room Number"}),(0,b.jsx)("input",{className:"w-full px-4 py-2 border-2 border-black font-bold outline-none",value:T.room_number,onChange:a=>U({...T,room_number:a.target.value}),placeholder:"e.g. 101"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Capacity"}),(0,b.jsx)("input",{type:"number",className:"w-full px-4 py-2 border-2 border-black font-bold outline-none",value:T.capacity,onChange:a=>U({...T,capacity:Number(a.target.value)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Rate (€/mo)"}),(0,b.jsx)("input",{type:"number",className:"w-full px-4 py-2 border-2 border-black font-bold outline-none",value:T.monthly_rate,onChange:a=>U({...T,monthly_rate:Number(a.target.value)})})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{onClick:()=>Q(!1),className:"flex-1 py-3 border-2 border-black text-[10px] font-black uppercase tracking-widest hover:bg-neutral-100 transition-all",children:"Cancel"}),(0,b.jsx)("button",{onClick:async()=>{K(!0);try{await w(T),Q(!1),window.location.reload()}catch(a){alert(a.message)}finally{K(!1)}},disabled:J||!T.building_id||!T.room_number,className:"flex-1 py-3 bg-black text-white text-[10px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all disabled:opacity-50",children:J?"Adding...":"Confirm"})]})]})})]})}a.s(["default",()=>D],88269)}];

//# sourceMappingURL=1b41d_syklicollege_src_app_admin_housing_HousingManagementClient_tsx_c0e1481b._.js.map