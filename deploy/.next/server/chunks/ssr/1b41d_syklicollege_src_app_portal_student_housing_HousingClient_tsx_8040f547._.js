module.exports=[7888,a=>{"use strict";var b=a.i(47242),c=a.i(5177),d=a.i(45418),e=a.i(85890),f=a.i(53594),g=a.i(55205);let h=new Map([["bold",c.createElement(c.Fragment,null,c.createElement("path",{d:"M240.26,186.1,152.81,34.23h0a28.74,28.74,0,0,0-49.62,0L15.74,186.1a27.45,27.45,0,0,0,0,27.71A28.31,28.31,0,0,0,40.55,228h174.9a28.31,28.31,0,0,0,24.79-14.19A27.45,27.45,0,0,0,240.26,186.1Zm-20.8,15.7a4.46,4.46,0,0,1-4,2.2H40.55a4.46,4.46,0,0,1-4-2.2,3.56,3.56,0,0,1,0-3.73L124,46.2a4.77,4.77,0,0,1,8,0l87.44,151.87A3.56,3.56,0,0,1,219.46,201.8ZM116,136V104a12,12,0,0,1,24,0v32a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,176Z"}))],["duotone",c.createElement(c.Fragment,null,c.createElement("path",{d:"M215.46,216H40.54C27.92,216,20,202.79,26.13,192.09L113.59,40.22c6.3-11,22.52-11,28.82,0l87.46,151.87C236,202.79,228.08,216,215.46,216Z",opacity:"0.2"}),c.createElement("path",{d:"M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"}))],["fill",c.createElement(c.Fragment,null,c.createElement("path",{d:"M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"}))],["light",c.createElement(c.Fragment,null,c.createElement("path",{d:"M235.07,189.09,147.61,37.22h0a22.75,22.75,0,0,0-39.22,0L20.93,189.09a21.53,21.53,0,0,0,0,21.72A22.35,22.35,0,0,0,40.55,222h174.9a22.35,22.35,0,0,0,19.6-11.19A21.53,21.53,0,0,0,235.07,189.09ZM224.66,204.8a10.46,10.46,0,0,1-9.21,5.2H40.55a10.46,10.46,0,0,1-9.21-5.2,9.51,9.51,0,0,1,0-9.72L118.79,43.21a10.75,10.75,0,0,1,18.42,0l87.46,151.87A9.51,9.51,0,0,1,224.66,204.8ZM122,144V104a6,6,0,0,1,12,0v40a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,180Z"}))],["regular",c.createElement(c.Fragment,null,c.createElement("path",{d:"M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"}))],["thin",c.createElement(c.Fragment,null,c.createElement("path",{d:"M233.34,190.09,145.88,38.22h0a20.75,20.75,0,0,0-35.76,0L22.66,190.09a19.52,19.52,0,0,0,0,19.71A20.36,20.36,0,0,0,40.54,220H215.46a20.36,20.36,0,0,0,17.86-10.2A19.52,19.52,0,0,0,233.34,190.09ZM226.4,205.8a12.47,12.47,0,0,1-10.94,6.2H40.54a12.47,12.47,0,0,1-10.94-6.2,11.45,11.45,0,0,1,0-11.72L117.05,42.21a12.76,12.76,0,0,1,21.9,0L226.4,194.08A11.45,11.45,0,0,1,226.4,205.8ZM124,144V104a4,4,0,0,1,8,0v40a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,180Z"}))]]),i=c.forwardRef((a,b)=>c.createElement(g.default,{ref:b,...a,weights:h}));i.displayName="WarningIcon";var j=a.i(40311),k=a.i(54542),l=a.i(28713),m=a.i(37569);let n=(0,m.createServerReference)("406b56fb871d83a941800e4edfe64293a99a5ca43b",m.callServer,void 0,m.findSourceMapURL,"submitHousingApplication"),o=(0,m.createServerReference)("70d3ea16288004c8f33c8a572423abd63ee5816631",m.callServer,void 0,m.findSourceMapURL,"initiatePayment"),p=(0,m.createServerReference)("4088876cc1344be9f00791bff538c441de0fb9e4d5",m.callServer,void 0,m.findSourceMapURL,"verifyPayment");var q=a.i(60186);function r({application:a,assignment:g,buildings:h,semesters:m,invoices:r}){let[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)("CREDIT_CARD"),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(0),O=async a=>{a.preventDefault(),v(!0),x(""),z(!1);let b=new FormData(a.currentTarget);try{let a=await n({semesterId:b.get("semester"),preferredBuildingId:b.get("building")||null,moveInDate:b.get("moveInDate"),moveOutDate:b.get("moveOutDate"),notes:b.get("notes")});a.success?(z(!0),t(!1),setTimeout(()=>{window.location.reload()},2e3)):x(a.error||"Application failed")}catch(a){x(a.message||"An error occurred")}finally{v(!1)}},P=async a=>{if(A){H(!0);try{let b=await o(A.id,"PAYGOWIRE",a.country||"Finland");b.success&&b.transactionId?(await p(b.transactionId),window.location.reload()):(alert("Payment failed: "+b.error),H(!1))}catch(a){alert("Error: "+a.message),H(!1)}}},Q=r.find(a=>"PAID"!==a.status&&"CANCELLED"!==a.status);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-black uppercase tracking-tighter mb-0.5 leading-none",children:"Housing & Accommodation"}),(0,b.jsx)("p",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Campus Residences"})]}),Q&&(0,b.jsx)("div",{className:"bg-blue-50 border-2 border-blue-500 p-5 rounded-sm mb-6 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-black uppercase text-blue-900 mb-2",children:"Payment Required"}),(0,b.jsxs)("p",{className:"text-sm font-medium text-blue-800 mb-4",children:["You have a pending invoice: ",(0,b.jsx)("strong",{children:Q.reference_number})]}),(0,b.jsxs)("div",{className:"text-2xl font-black text-blue-900 mb-4",children:["â‚¬",(Q.total_amount-(Q.paid_amount||0)).toFixed(2)]}),(0,b.jsxs)("button",{onClick:()=>{B(Q),N(Q.total_amount-(Q.paid_amount||0)),J(!0)},className:"px-6 py-2 bg-blue-600 text-white text-[10px] font-black uppercase tracking-widest rounded-sm hover:bg-blue-700",children:["Pay Now ",(0,b.jsx)(k.CaretRight,{size:14,weight:"bold",className:"inline ml-1"})]})]}),(0,b.jsx)(j.CreditCard,{className:"text-blue-400",size:48,weight:"regular"})]})}),I&&A&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-sm relative",children:[(0,b.jsx)("button",{onClick:()=>J(!1),className:"absolute right-6 top-6 z-10 p-2 bg-neutral-100 rounded-full hover:bg-neutral-200 transition-colors",children:"âœ•"}),(0,b.jsx)("div",{className:"p-6 md:p-10",children:(0,b.jsx)(q.default,{amount:M,currency:"EUR",onPaymentComplete:P,isProcessing:G,paymentReference:A.reference_number})})]})}),g?(0,b.jsxs)("div",{className:"bg-white border-2 border-black p-6 rounded-sm shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-black uppercase",children:"Room Assignment"}),(0,b.jsx)("p",{className:"text-[10px] font-bold text-neutral-500 uppercase mt-1",children:"Active"})]}),(0,b.jsx)(e.CheckCircle,{className:"text-green-500",size:32,weight:"bold"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-neutral-400 mb-1",children:"Building"}),(0,b.jsx)("p",{className:"font-bold text-lg",children:g.room?.building?.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-neutral-400 mb-1",children:"Room"}),(0,b.jsx)("p",{className:"font-bold text-lg",children:g.room?.room_number})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-neutral-400 mb-1",children:"Status"}),(0,b.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-[10px] font-black uppercase",children:g.status})]})]}),(0,b.jsxs)("div",{className:"pt-6 border-t border-neutral-100",children:[(0,b.jsx)("p",{className:"text-[10px] font-bold text-neutral-400 uppercase mb-2",children:"Lease Duration"}),(0,b.jsxs)("p",{className:"text-sm font-medium",children:[(0,l.formatToDDMMYYYY)(g.start_date)," - ",(0,l.formatToDDMMYYYY)(g.end_date)]})]})]}):a?(0,b.jsxs)("div",{className:"bg-white border-2 border-amber-500 p-6 rounded-sm shadow-[6px_6px_0px_0px_rgba(0,0,0,0.1)]",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-black uppercase",children:"Application Pending"}),(0,b.jsx)("p",{className:"text-[10px] font-bold text-amber-600 uppercase mt-1",children:a.status})]}),(0,b.jsx)(f.Clock,{className:"text-amber-500",size:32,weight:"bold"})]}),(0,b.jsx)("p",{className:"text-sm text-neutral-600 mb-4",children:"Your housing application is currently under review."})]}):(0,b.jsx)(b.Fragment,{children:s?(0,b.jsxs)("div",{className:"bg-white border-2 border-black p-6 rounded-sm shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]",children:[(0,b.jsx)("h2",{className:"text-xl font-black uppercase mb-6",children:"Housing Application Form"}),(0,b.jsx)("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-sm mb-6",children:(0,b.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,b.jsx)("strong",{children:"ðŸ“‹ Application Process:"})," Select your preferred semester and building below. After submission, you will receive an invoice for the ",(0,b.jsx)("strong",{children:"First Month Deposit"}),".",(0,b.jsx)("br",{className:"mb-1"}),"Room assignment will be finalized once the deposit is paid."]})}),y&&(0,b.jsx)("div",{className:"bg-green-50 border-2 border-green-500 p-4 rounded-sm mb-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.CheckCircle,{className:"text-green-600",size:20,weight:"bold"}),(0,b.jsx)("p",{className:"text-sm font-bold text-green-800",children:"Application submitted! Generating invoice..."})]})}),w&&(0,b.jsx)("div",{className:"bg-red-50 border-2 border-red-200 p-4 rounded-sm mb-6",children:(0,b.jsx)("p",{className:"text-sm text-red-600 font-medium",children:w})}),(0,b.jsxs)("form",{onSubmit:O,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[10px] font-black uppercase tracking-widest text-neutral-400 mb-2",children:"Semester *"}),(0,b.jsxs)("select",{name:"semester",required:!0,className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-sm focus:border-black focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"Select Semester"}),m.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[10px] font-black uppercase tracking-widest text-neutral-400 mb-2",children:"Preferred Building"}),(0,b.jsxs)("select",{name:"building",className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-sm focus:border-black focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"No Preference"}),h.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.name," - ",a.campus_location]},a.id))]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[10px] font-black uppercase tracking-widest text-neutral-400 mb-2",children:"Move-In Date *"}),(0,b.jsx)("input",{type:"date",name:"moveInDate",required:!0,className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-sm focus:border-black focus:outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[10px] font-black uppercase tracking-widest text-neutral-400 mb-2",children:"Move-Out Date *"}),(0,b.jsx)("input",{type:"date",name:"moveOutDate",required:!0,className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-sm focus:border-black focus:outline-none"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[10px] font-black uppercase tracking-widest text-neutral-400 mb-2",children:"Additional Notes"}),(0,b.jsx)("textarea",{name:"notes",rows:4,className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-sm focus:border-black focus:outline-none",placeholder:"Any special requirements or preferences..."})]}),(0,b.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-neutral-50 border border-neutral-200 rounded-sm",children:[(0,b.jsx)("input",{type:"checkbox",required:!0,id:"refundPolicyAgree",className:"mt-0.5"}),(0,b.jsxs)("label",{htmlFor:"refundPolicyAgree",className:"text-[10px] text-neutral-600 leading-tight",children:["I adhere to the ",(0,b.jsx)("a",{href:"/refund-withdrawal-policy",target:"_blank",className:"underline font-bold text-black",children:"Refund & Withdrawal Policy"})," and understand the terms regarding deposit forfeiture and lease cancellation."]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{type:"submit",disabled:u,className:"px-6 py-3 bg-black text-white rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all disabled:opacity-50",children:u?"Submitting...":"Submit Application"}),(0,b.jsx)("button",{type:"button",onClick:()=>t(!1),className:"px-6 py-3 border-2 border-neutral-200 rounded-sm text-[10px] font-black uppercase tracking-widest hover:border-black transition-all",children:"Cancel"})]})]})]}):(0,b.jsxs)("div",{className:"bg-neutral-50 border-2 border-neutral-200 p-6 rounded-sm",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,b.jsx)(i,{className:"text-neutral-400",size:32,weight:"bold"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-black uppercase mb-2",children:"No Housing Application"}),(0,b.jsx)("p",{className:"text-sm text-neutral-600",children:"You have not yet submitted a housing application for this semester. Click the button below to begin."})]})]}),(0,b.jsxs)("button",{onClick:()=>t(!0),className:"px-5 py-2.5 bg-black text-white rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all",children:[(0,b.jsx)(d.House,{size:14,weight:"bold",className:"inline mr-2"})," Apply for Housing"]})]})})]})}a.s(["default",()=>r],7888)}];

//# sourceMappingURL=1b41d_syklicollege_src_app_portal_student_housing_HousingClient_tsx_8040f547._.js.map