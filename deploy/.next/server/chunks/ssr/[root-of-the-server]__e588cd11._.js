module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},82649,a=>{a.n(a.i(59570))},64858,a=>{a.n(a.i(76158))},89204,a=>{a.n(a.i(63533))},64967,a=>{a.n(a.i(59042))},58007,a=>{a.n(a.i(76684))},22806,a=>{"use strict";var b=a.i(60550),c=a.i(64040);let d=new Map([["bold",b.createElement(b.Fragment,null,b.createElement("path",{d:"M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"}))],["duotone",b.createElement(b.Fragment,null,b.createElement("path",{d:"M160,48V208L80,128Z",opacity:"0.2"}),b.createElement("path",{d:"M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"}))],["fill",b.createElement(b.Fragment,null,b.createElement("path",{d:"M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"}))],["light",b.createElement(b.Fragment,null,b.createElement("path",{d:"M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"}))],["regular",b.createElement(b.Fragment,null,b.createElement("path",{d:"M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"}))],["thin",b.createElement(b.Fragment,null,b.createElement("path",{d:"M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"}))]]),e=b.forwardRef((a,e)=>b.createElement(c.default,{ref:e,...a,weights:d}));e.displayName="CaretLeftIcon",a.s(["CaretLeft",()=>e],22806)},18091,a=>{a.n(a.i(87675))},96307,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(46504).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/OneDrive/Documents/syklicollege/src/app/admin/housing/HousingManagementClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Documents/syklicollege/src/app/admin/housing/HousingManagementClient.tsx <module evaluation>","default")},7322,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(46504).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/OneDrive/Documents/syklicollege/src/app/admin/housing/HousingManagementClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Documents/syklicollege/src/app/admin/housing/HousingManagementClient.tsx","default")},65565,a=>{"use strict";a.i(96307);var b=a.i(7322);a.n(b)},90668,a=>{"use strict";var b=a.i(37875),c=a.i(2669);a.i(75325);var d=a.i(17781),e=a.i(86295),f=a.i(22806),g=a.i(65565);async function h(){let a=await (0,c.createClient)(),{data:{user:h}}=await a.auth.getUser();h||(0,d.redirect)("/portal/account/login");let{data:i}=await a.from("profiles").select("role").eq("id",h.id).single();i?.role!=="ADMIN"&&(0,d.redirect)("/portal/dashboard");let{data:j,error:k}=await a.from("housing_applications").select("*").order("created_at",{ascending:!1});console.log("Applications:",j,"Error:",k);let{data:l}=await a.from("students").select("id, student_id, user_id");console.log("All students in database:",l);let m=[];j&&(m=await Promise.all(j.map(async b=>{console.log("Processing application:",b.id,"student_id:",b.student_id);let{data:c,error:d}=await a.from("students").select("id, student_id, user_id").eq("id",b.student_id).single();console.log("Student lookup result:",c,"Error:",d);let e=null;if(c?.user_id){let{data:b,error:d}=await a.from("profiles").select("*").eq("id",c.user_id).single();console.log("Profile lookup result (all fields):",b,"Error:",d),e=b}let{data:f}=await a.from("semesters").select("name").eq("id",b.semester_id).single(),g=null;if(b.preferred_building_id){let{data:c}=await a.from("housing_buildings").select("name, campus_location").eq("id",b.preferred_building_id).single();g=c}return{...b,student:c?{...c,user:e}:null,semester:f,preferred_building:g}})));let{data:n}=await a.from("housing_rooms").select("*, building:housing_buildings(*)").eq("status","AVAILABLE").order("building_id"),{data:o,error:p}=await a.from("housing_assignments").select("*").order("created_at",{ascending:!1});console.log("Assignments:",o,"Error:",p);let q=[];o&&(q=await Promise.all(o.map(async b=>{let{data:c}=await a.from("students").select("id, student_id, user_id").eq("id",b.student_id).single(),d=null;if(c?.user_id){let{data:b}=await a.from("profiles").select("*").eq("id",c.user_id).single();d=b}let{data:e}=await a.from("housing_rooms").select("*").eq("id",b.room_id).single(),f=null;if(e?.building_id){let{data:b}=await a.from("housing_buildings").select("name, campus_location").eq("id",e.building_id).single();f=b}return{...b,student:c?{...c,user:d}:null,room:e?{...e,building:f}:null}})));let{data:r}=await a.from("housing_buildings").select("*").order("name");return(0,b.jsx)("div",{className:"min-h-screen bg-neutral-50/50 p-4 md:p-8 font-sans",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)(e.default,{href:"/admin",className:"inline-flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-neutral-500 hover:text-black transition-colors",children:[(0,b.jsx)(f.CaretLeft,{size:14})," Back to Admin Dashboard"]})}),(0,b.jsx)(g.default,{applications:m||[],availableRooms:n||[],assignments:q||[],buildings:r||[]})]})})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e588cd11._.js.map