module.exports=[87705,a=>{"use strict";var b=a.i(77782),c=a.i(53565),d=a.i(46235);async function e(b,e){let f=(0,c.createAdminClient)(),{error:g}=await f.from("applications").update({status:e,updated_at:new Date().toISOString()}).eq("id",b);if(g)throw console.error("Error updating application status:",g),Error("Failed to update status");if("ADMITTED"===e)try{let{generateAndStoreOfferLetter:c}=await a.A(26034);await c(b)}catch(a){console.error("Failed to generate automated offer letter:",a)}return(0,d.revalidatePath)("/admin/admissions"),(0,d.revalidatePath)(`/admin/admissions/${b}`),(0,d.revalidatePath)("/portal/dashboard"),{success:!0}}async function f(a){let b=(0,c.createAdminClient)(),{error:e}=await b.from("applications").delete().eq("id",a);if(e)throw console.error("Error deleting application:",e),Error("Failed to delete application");return(0,d.revalidatePath)("/admin/admissions"),{success:!0}}async function g(a,b){let e=(0,c.createAdminClient)(),{error:f}=await e.from("applications").update({internal_notes:b,updated_at:new Date().toISOString()}).eq("id",a);if(f)throw console.error("Error updating internal notes:",f),Error("Failed to update notes");return(0,d.revalidatePath)(`/admin/admissions/${a}`),{success:!0}}async function h(a,b,e,f="DEPOSIT",g=0){let i=(0,c.createAdminClient)(),{error:j}=await i.from("admission_offers").insert({application_id:a,tuition_fee:b,payment_deadline:e,offer_type:f,discount_amount:g,status:"PENDING"});if(j)throw console.error("Error creating offer:",j),Error("Failed to create offer");return(0,d.revalidatePath)(`/admin/admissions/${a}`),(0,d.revalidatePath)("/admin/admissions"),(0,d.revalidatePath)("/portal/student/offer"),{success:!0}}async function i(b){try{let{generateAndStoreOfferLetter:c}=await a.A(26034);return await c(b),(0,d.revalidatePath)(`/admin/admissions/${b}`),(0,d.revalidatePath)("/portal/student/offer"),{success:!0}}catch(a){throw console.error("Action Error: regenerateOfferLetter:",a),Error(a.message||"Failed to regenerate offer letter")}}(0,a.i(8649).ensureServerEntryExports)([e,f,g,h,i]),(0,b.registerServerReference)(e,"60efa240c45bf51969a36ebd3630efd61433ca026a",null),(0,b.registerServerReference)(f,"406cf63865c24ba7def134462ec02255de9bba1edc",null),(0,b.registerServerReference)(g,"600feb0832a78979f37baa4cf0d54bb6b12c1c1310",null),(0,b.registerServerReference)(h,"7c5340b2a9ba9cded9530a2749559fd13aa69cbe05",null),(0,b.registerServerReference)(i,"400c064be9ecc6b0698fde20834067620e21e19183",null),a.s(["createAdmissionOffer",()=>h,"deleteApplication",()=>f,"regenerateOfferLetter",()=>i,"updateApplicationStatus",()=>e,"updateInternalNotes",()=>g])},3320,a=>{"use strict";a.s(["FinancialOfferForm",()=>b]);let b=(0,a.i(46504).registerClientReference)(function(){throw Error("Attempted to call FinancialOfferForm() from the server but FinancialOfferForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Documents/syklicollege/src/app/admin/admissions/FinancialOfferForm.tsx <module evaluation>","FinancialOfferForm")},40922,a=>{"use strict";a.s(["FinancialOfferForm",()=>b]);let b=(0,a.i(46504).registerClientReference)(function(){throw Error("Attempted to call FinancialOfferForm() from the server but FinancialOfferForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Documents/syklicollege/src/app/admin/admissions/FinancialOfferForm.tsx","FinancialOfferForm")},73292,a=>{"use strict";a.i(3320);var b=a.i(40922);a.n(b)},73525,a=>{"use strict";var b=a.i(37875),c=a.i(77782),d=a.i(98630),e=a.i(2669);a.i(75325);var f=a.i(17781),g=a.i(86295),h=a.i(87705),i=a.i(25034),j=a.i(67049),k=a.i(73292),l=a.i(22806),m=a.i(3361),n=a.i(66396),o=a.i(60340),p=a.i(19401),q=a.i(8411),r=a.i(16624),s=a.i(22023),t=a.i(64692),u=a.i(79597),v=a.i(93019),w=a.i(8289),x=a.i(60550),y=a.i(64040);let z=new Map([["bold",x.createElement(x.Fragment,null,x.createElement("path",{d:"M168.49,104.49,145,128l23.52,23.51a12,12,0,0,1-17,17L128,145l-23.51,23.52a12,12,0,0,1-17-17L111,128,87.51,104.49a12,12,0,0,1,17-17L128,111l23.51-23.52a12,12,0,0,1,17,17ZM236,128A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Z"}))],["duotone",x.createElement(x.Fragment,null,x.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),x.createElement("path",{d:"M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["fill",x.createElement(x.Fragment,null,x.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm37.66,130.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["light",x.createElement(x.Fragment,null,x.createElement("path",{d:"M164.24,100.24,136.48,128l27.76,27.76a6,6,0,1,1-8.48,8.48L128,136.48l-27.76,27.76a6,6,0,0,1-8.48-8.48L119.52,128,91.76,100.24a6,6,0,0,1,8.48-8.48L128,119.52l27.76-27.76a6,6,0,0,1,8.48,8.48ZM230,128A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"}))],["regular",x.createElement(x.Fragment,null,x.createElement("path",{d:"M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["thin",x.createElement(x.Fragment,null,x.createElement("path",{d:"M162.83,98.83,133.66,128l29.17,29.17a4,4,0,0,1-5.66,5.66L128,133.66,98.83,162.83a4,4,0,0,1-5.66-5.66L122.34,128,93.17,98.83a4,4,0,0,1,5.66-5.66L128,122.34l29.17-29.17a4,4,0,1,1,5.66,5.66ZM228,128A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"}))]]),A=x.forwardRef((a,b)=>x.createElement(y.default,{ref:b,...a,weights:z}));A.displayName="XCircleIcon";var B=a.i(1490),C=a.i(83764);let D=new Map([["bold",x.createElement(x.Fragment,null,x.createElement("path",{d:"M228,128a100,100,0,0,1-98.66,100H128a99.39,99.39,0,0,1-68.62-27.29,12,12,0,0,1,16.48-17.45,76,76,0,1,0-1.57-109c-.13.13-.25.25-.39.37L54.89,92H72a12,12,0,0,1,0,24H24a12,12,0,0,1-12-12V56a12,12,0,0,1,24,0V76.72L57.48,57.06A100,100,0,0,1,228,128Z"}))],["duotone",x.createElement(x.Fragment,null,x.createElement("path",{d:"M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z",opacity:"0.2"}),x.createElement("path",{d:"M224,128a96,96,0,0,1-94.71,96H128A95.38,95.38,0,0,1,62.1,197.8a8,8,0,0,1,11-11.63A80,80,0,1,0,71.43,71.39a3.07,3.07,0,0,1-.26.25L44.59,96H72a8,8,0,0,1,0,16H24a8,8,0,0,1-8-8V56a8,8,0,0,1,16,0V85.8L60.25,60A96,96,0,0,1,224,128Z"}))],["fill",x.createElement(x.Fragment,null,x.createElement("path",{d:"M224,128a96,96,0,0,1-94.71,96H128A95.38,95.38,0,0,1,62.1,197.8a8,8,0,0,1,11-11.63A80,80,0,1,0,71.43,71.39a3.07,3.07,0,0,1-.26.25L60.63,81.29l17,17A8,8,0,0,1,72,112H24a8,8,0,0,1-8-8V56A8,8,0,0,1,29.66,50.3L49.31,70,60.25,60A96,96,0,0,1,224,128Z"}))],["light",x.createElement(x.Fragment,null,x.createElement("path",{d:"M222,128a94,94,0,0,1-92.74,94H128a93.43,93.43,0,0,1-64.5-25.65,6,6,0,1,1,8.24-8.72A82,82,0,1,0,70,70l-.19.19L39.44,98H72a6,6,0,0,1,0,12H24a6,6,0,0,1-6-6V56a6,6,0,0,1,12,0V90.34L61.63,61.4A94,94,0,0,1,222,128Z"}))],["regular",x.createElement(x.Fragment,null,x.createElement("path",{d:"M224,128a96,96,0,0,1-94.71,96H128A95.38,95.38,0,0,1,62.1,197.8a8,8,0,0,1,11-11.63A80,80,0,1,0,71.43,71.39a3.07,3.07,0,0,1-.26.25L44.59,96H72a8,8,0,0,1,0,16H24a8,8,0,0,1-8-8V56a8,8,0,0,1,16,0V85.8L60.25,60A96,96,0,0,1,224,128Z"}))],["thin",x.createElement(x.Fragment,null,x.createElement("path",{d:"M220,128a92,92,0,0,1-90.77,92H128a91.47,91.47,0,0,1-63.13-25.1,4,4,0,1,1,5.5-5.82A84,84,0,1,0,68.6,68.57l-.13.12L34.3,100H72a4,4,0,0,1,0,8H24a4,4,0,0,1-4-4V56a4,4,0,0,1,8,0V94.89l35-32A92,92,0,0,1,220,128Z"}))]]),E=x.forwardRef((a,b)=>x.createElement(y.default,{ref:b,...a,weights:D}));E.displayName="ArrowCounterClockwiseIcon";let F=async function(a){var[b]=await (0,d.decryptActionBoundArgs)("40940877bcd3adaa59dff53408a70ed4d0c52f595c",a);await (0,h.regenerateOfferLetter)(b)};(0,c.registerServerReference)(F,"40940877bcd3adaa59dff53408a70ed4d0c52f595c",null);let G=async function(a){var[b]=await (0,d.decryptActionBoundArgs)("4099b34cc9d0c4e3251dcf393c023dc1696a6675b2",a);await (0,h.regenerateOfferLetter)(b)};(0,c.registerServerReference)(G,"4099b34cc9d0c4e3251dcf393c023dc1696a6675b2",null);let H=async function(a,b){var[c]=await (0,d.decryptActionBoundArgs)("60c5ffc4bcd692cf368f8825b451c4ec0cfe99a9d9",a);let e=b.get("notes");await (0,h.updateInternalNotes)(c,e)};async function I({params:a}){let{id:c}=await a,h=await (0,e.createClient)(),{data:w}=await h.from("applications").select(`
            *,
            course:Course(*, school:School(slug)),
            user:profiles(*),
            documents:application_documents(*),
            offer:admission_offers(*)
        `).eq("id",c).single();w||(0,f.notFound)();let{data:x}=await h.from("admissions").select("*").eq("user_id",w.user_id).order("created_at",{ascending:!1}).limit(1).maybeSingle(),y=w.personal_info||{},z=w.contact_details||{},A=w.education_history||{},C=w.motivation||{};return(0,b.jsxs)("div",{className:"space-y-8 pb-20",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(g.default,{href:"/admin/admissions",className:"p-2 hover:bg-neutral-100 rounded-xl transition-colors",children:(0,b.jsx)(l.CaretLeft,{size:24,weight:"bold"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold uppercase tracking-tight",children:"Application Review"}),(0,b.jsxs)("p",{className:"text-neutral-500 text-sm font-medium",children:["Viewing details for ",w.user?.first_name," ",w.user?.last_name]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-3xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"bg-neutral-900 p-6 text-white flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center font-semibold text-2xl",children:(w.user?.first_name?.[0]||"A").toUpperCase()}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold uppercase tracking-tight",children:[w.user?.first_name," ",w.user?.last_name]}),(0,b.jsxs)("p",{className:"text-neutral-400 text-xs font-semibold uppercase tracking-widest",children:["Student ID: ",w.user?.student_id||"Generating..."]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold text-neutral-400 uppercase tracking-widest block mb-1",children:"Applying For"}),(0,b.jsx)("span",{className:"text-sm font-semibold uppercase tracking-tight",children:w.course?.title})]})]}),(0,b.jsxs)("div",{className:"p-8 grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-xs font-semibold uppercase tracking-widest text-neutral-400 border-b border-neutral-100 pb-2",children:"Personal Information"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(J,{icon:q.Calendar,label:"Date of Birth",value:y.dateOfBirth,iconWeight:"regular"}),(0,b.jsx)(J,{icon:m.User,label:"Gender",value:y.gender,isCapitalized:!0,iconWeight:"regular"}),(0,b.jsx)(J,{icon:p.Globe,label:"Nationality",value:y.nationality,iconWeight:"regular"}),(0,b.jsx)(J,{icon:u.FileText,label:"Passport/ID",value:y.passportNumber,iconWeight:"regular"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-xs font-semibold uppercase tracking-widest text-neutral-400 border-b border-neutral-100 pb-2",children:"Contact Details"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(J,{icon:n.Envelope,label:"Email Address",value:z.email||w.user?.email,iconWeight:"regular"}),(0,b.jsx)(J,{icon:o.Phone,label:"Phone Number",value:z.phone,iconWeight:"regular"}),(0,b.jsx)(J,{icon:r.MapPin,label:"Address",value:`${z.addressLine1}${z.addressLine2?", "+z.addressLine2:""}, ${z.city}, ${z.country}`,iconWeight:"regular"})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-neutral-200 p-8 shadow-sm space-y-6",children:[(0,b.jsxs)("h3",{className:"text-xs font-black uppercase tracking-widest text-neutral-400 border-b border-neutral-100 pb-2 flex items-center gap-2",children:[(0,b.jsx)(s.GraduationCap,{size:16,weight:"bold"})," Academic History"]}),A.education?.length>0?(0,b.jsx)("div",{className:"space-y-8",children:A.education.map((a,c)=>(0,b.jsx)("div",{className:`${0!==c?"pt-6 border-t border-neutral-50":""}`,children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(J,{label:"Institution Name",value:a.institution}),(0,b.jsx)(J,{label:"Degree / Qualification",value:a.degree}),(0,b.jsx)(J,{label:"Period",value:`${a.startYear} - ${a.endYear}`})]}),(0,b.jsx)("div",{className:"space-y-3",children:(0,b.jsx)(J,{label:"GPA / Grade",value:a.grade})})]})},c))}):(0,b.jsx)("p",{className:"text-neutral-400 text-sm italic",children:"No academic history provided."})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-neutral-200 p-8 shadow-sm space-y-4",children:[(0,b.jsxs)("h3",{className:"text-xs font-black uppercase tracking-widest text-neutral-400 border-b border-neutral-100 pb-2 flex items-center gap-2",children:[(0,b.jsx)(t.Trophy,{size:16,weight:"bold"})," Motivation & Goals"]}),(0,b.jsx)("div",{className:"prose prose-sm max-w-none text-neutral-600 font-medium",children:C.statementOfPurpose||"No motivation statement provided."}),C.languageProficiency&&(0,b.jsxs)("div",{className:"mt-6 pt-6 border-t border-neutral-100 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsx)(J,{label:"English Level",value:C.languageProficiency.englishLevel,isCapitalized:!0}),(0,b.jsx)(J,{label:"Test Taken",value:C.languageProficiency.testTaken}),(0,b.jsx)(J,{label:"Test Score",value:C.languageProficiency.testScore})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-neutral-200 p-8 shadow-sm space-y-6",children:[(0,b.jsxs)("h3",{className:"text-xs font-black uppercase tracking-widest text-neutral-400 border-b border-neutral-100 pb-2 flex items-center gap-2",children:[(0,b.jsx)(u.FileText,{size:16,weight:"bold"})," Attached Documents"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.documents?.length>0?w.documents.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-neutral-50 rounded-2xl border border-neutral-100 group hover:border-black transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-sm border border-neutral-100 group-hover:bg-neutral-900 group-hover:text-white transition-colors",children:(0,b.jsx)(u.FileText,{size:18,weight:"regular"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs font-black uppercase tracking-tight",children:a.type.replace("_"," ")}),(0,b.jsx)("div",{className:"text-[10px] font-bold text-neutral-400 truncate max-w-[150px]",children:a.name})]})]}),(0,b.jsx)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-black hover:text-white rounded-lg transition-all",children:(0,b.jsx)(v.DownloadSimple,{size:16,weight:"bold"})})]},a.id)):(0,b.jsx)("p",{className:"text-neutral-400 text-sm italic col-span-2",children:"No documents uploaded yet."})})]})]}),(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-neutral-200 p-8 shadow-sm sticky top-8",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("span",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest block mb-2",children:"Current Status"}),(0,b.jsx)(K,{status:w.status})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-6 border-t border-neutral-100",children:[(0,b.jsx)("span",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest block mb-1",children:"Update Pipeline"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-1.5",children:[(0,b.jsx)(M,{label:"Move to Review",status:"UNDER_REVIEW",appId:w.id,currentStatus:w.status,variant:"warning"}),(0,b.jsx)(M,{label:"Request Documents",status:"DOCS_REQUIRED",appId:w.id,currentStatus:w.status,variant:"purple"}),(0,b.jsx)(M,{label:"Admit Student",status:"ADMITTED",appId:w.id,currentStatus:w.status,variant:"success"}),(0,b.jsx)(M,{label:"Reject Application",status:"REJECTED",appId:w.id,currentStatus:w.status,variant:"danger"})]})]}),"ADMITTED"===w.status&&(0,b.jsxs)("div",{className:"mt-8 pt-6 border-t-2 border-dashed border-neutral-100 animate-in fade-in slide-in-from-top-2 duration-500",children:[(0,b.jsxs)("h3",{className:"text-[10px] font-black uppercase tracking-widest text-blue-600 mb-4 flex items-center gap-2",children:[(0,b.jsx)(u.FileText,{size:14,weight:"bold"})," Official Admission Letter"]}),x?.offer_letter_url?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-blue-50/50 rounded-2xl border border-blue-100 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600",children:(0,b.jsx)(u.FileText,{size:14,weight:"regular"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase text-blue-900 leading-none mb-1",children:"Status: Generated"}),(0,b.jsx)("p",{className:"text-[9px] font-bold text-blue-400 uppercase",children:"Letter is ready for student"})]})]}),(0,b.jsx)("a",{href:x.offer_letter_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-blue-600 hover:text-white rounded-lg transition-all text-blue-600 border border-blue-200",children:(0,b.jsx)(v.DownloadSimple,{size:14,weight:"bold"})})]}),(0,b.jsx)("form",{action:F.bind(null,(0,d.encryptActionBoundArgs)("40940877bcd3adaa59dff53408a70ed4d0c52f595c",w.id)),children:(0,b.jsxs)("button",{type:"submit",className:"w-full bg-neutral-900 text-white rounded-xl py-2.5 text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all flex items-center justify-center gap-2",children:[(0,b.jsx)(E,{size:12,weight:"bold"})," Regenerate PDF Letter"]})})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-amber-50 rounded-2xl border border-amber-100 flex flex-col items-center text-center gap-2",children:[(0,b.jsx)(B.WarningCircle,{size:24,weight:"bold",className:"text-amber-400"}),(0,b.jsx)("p",{className:"text-[10px] font-bold text-amber-700 uppercase tracking-tight",children:"No formal letter found in system for this admitted student."})]}),(0,b.jsx)("form",{action:G.bind(null,(0,d.encryptActionBoundArgs)("4099b34cc9d0c4e3251dcf393c023dc1696a6675b2",w.id)),children:(0,b.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white rounded-xl py-3 text-[10px] font-black uppercase tracking-widest hover:bg-blue-700 transition-all shadow-lg shadow-blue-200",children:"Generate Admission Letter"})})]})]}),"ADMITTED"===w.status&&(0,b.jsxs)("div",{className:"mt-8 pt-6 border-t-2 border-dashed border-neutral-100",children:[(0,b.jsxs)("h3",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-600 mb-4 flex items-center gap-2",children:[(0,b.jsx)(t.Trophy,{size:14,weight:"bold"})," Financial Offer / Tuition"]}),w.offer?.[0]?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-emerald-50 rounded-2xl border border-emerald-100 flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-[10px] uppercase font-bold text-emerald-500 tracking-tight",children:"FULL_TUITION"===w.offer[0].offer_type?"Full Tuition":"Initial Deposit"}),(0,b.jsx)("span",{className:"text-[9px] text-emerald-400 font-bold uppercase tracking-widest",children:w.offer[0].currency})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("span",{className:"text-sm font-black text-emerald-900 leading-none",children:["€",w.offer[0].tuition_fee?.toLocaleString()]}),w.offer[0].discount_amount>0&&(0,b.jsxs)("p",{className:"text-[8px] font-bold text-emerald-600 uppercase",children:["Includes €",w.offer[0].discount_amount?.toLocaleString()," discount"]})]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-emerald-100",children:[(0,b.jsx)("span",{className:"text-[9px] uppercase font-bold text-emerald-400 tracking-tight",children:"Deadline"}),(0,b.jsx)("span",{className:"text-[10px] font-black text-emerald-900",children:(0,j.formatToDDMMYYYY)(w.offer[0].payment_deadline)})]}),(0,b.jsx)("div",{className:"pt-2 text-center",children:(0,b.jsx)("span",{className:`text-[9px] font-black uppercase tracking-widest px-3 py-1 rounded-full ${"ACCEPTED"===w.offer[0].status?"bg-emerald-200 text-emerald-800":"DECLINED"===w.offer[0].status?"bg-red-200 text-red-800":"bg-amber-200 text-amber-800"}`,children:w.offer[0].status})})]}),(0,b.jsx)("p",{className:"text-[9px] font-bold text-neutral-400 text-center line-clamp-2",children:"Financial details issued. Modification requires registrar intervention."})]}):(0,b.jsx)(k.FinancialOfferForm,{applicationId:w.id,baseTuition:(0,i.getTuitionFee)(w.course?.degreeLevel||"BACHELOR",(0,i.mapSchoolToTuitionField)(w.course?.school?.slug||"technology")),programYears:(0,i.getProgramYears)(w.course?.duration||"2 Years")})]}),(0,b.jsxs)("div",{className:"mt-8 pt-6 border-t border-neutral-100",children:[(0,b.jsx)("span",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest block mb-3 leading-none underline decoration-amber-400 decoration-2 underline-offset-4",children:"Internal Staff Notes"}),(0,b.jsxs)("form",{action:H.bind(null,(0,d.encryptActionBoundArgs)("60c5ffc4bcd692cf368f8825b451c4ec0cfe99a9d9",w.id)),className:"space-y-3",children:[(0,b.jsx)("textarea",{name:"notes",defaultValue:w.internal_notes||"",className:"w-full bg-neutral-50 border border-neutral-100 rounded-2xl p-4 text-sm font-medium outline-none focus:border-black transition-all min-h-[120px] shadow-inner",placeholder:"Add notes for the admissions team..."}),(0,b.jsx)("button",{type:"submit",className:"w-full bg-neutral-900 text-white rounded-xl py-2.5 text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all shadow-sm",children:"Save Notes"})]})]}),(0,b.jsxs)("div",{className:"mt-8 pt-6 border-t border-neutral-100",children:[(0,b.jsx)("span",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest block mb-3 leading-none",children:"Application Log"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(N,{date:w.created_at,action:"Application Created",user:"System"}),w.submitted_at&&(0,b.jsx)(N,{date:w.submitted_at,action:"Form Submitted",user:"Applicant"})]})]})]})})]})]})}function J({icon:a,label:c,value:d,isCapitalized:e,iconWeight:f="bold"}){return(0,b.jsxs)("div",{className:"flex gap-3",children:[a&&(0,b.jsx)(a,{size:16,weight:f,className:"text-neutral-300 mt-0.5 shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest leading-none mb-1",children:c}),(0,b.jsx)("p",{className:`text-sm font-bold text-neutral-900 ${e?"capitalize":""}`,children:d||(0,b.jsx)("span",{className:"text-neutral-300 italic",children:"Not provided"})})]})]})}function K({status:a}){let c={DRAFT:{label:"Draft",color:"bg-neutral-100 text-neutral-500",icon:C.Clock},SUBMITTED:{label:"Submitted",color:"bg-blue-100 text-blue-700",icon:B.WarningCircle},UNDER_REVIEW:{label:"In Review",color:"bg-amber-100 text-amber-700",icon:C.Clock},DOCS_REQUIRED:{label:"Action Needed",color:"bg-purple-100 text-purple-700",icon:B.WarningCircle},ADMITTED:{label:"Admitted",color:"bg-emerald-100 text-emerald-700",icon:w.CheckCircle},REJECTED:{label:"Rejected",color:"bg-red-100 text-red-700",icon:A}},d=c[a]||c.DRAFT,e=d.icon;return(0,b.jsxs)("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-2xl ${d.color} font-black uppercase text-xs tracking-wider border border-current opacity-80`,children:[(0,b.jsx)(e,{size:14,weight:"bold"}),d.label]})}(0,c.registerServerReference)(H,"60c5ffc4bcd692cf368f8825b451c4ec0cfe99a9d9",null);let L=async function(a){var[b,c]=await (0,d.decryptActionBoundArgs)("408fd748541c7756a2e5bad756dc6fc95239fdbbfd",a);await (0,h.updateApplicationStatus)(b,c)};function M({label:a,status:c,appId:e,currentStatus:f,variant:g}){return f===c?null:(0,b.jsx)("form",{action:L.bind(null,(0,d.encryptActionBoundArgs)("408fd748541c7756a2e5bad756dc6fc95239fdbbfd",e,c)),children:(0,b.jsx)("button",{type:"submit",className:`w-full text-left px-4 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${{success:"bg-emerald-50 text-emerald-700 hover:bg-emerald-600 hover:text-white",warning:"bg-amber-50 text-amber-700 hover:bg-amber-600 hover:text-white",danger:"bg-red-50 text-red-700 hover:bg-red-600 hover:text-white",purple:"bg-purple-50 text-purple-700 hover:bg-purple-600 hover:text-white"}[g]}`,children:a})})}function N({date:a,action:c,user:d}){return(0,b.jsxs)("div",{className:"flex gap-3 relative before:absolute before:left-1.5 before:top-4 before:bottom-0 before:w-px before:bg-neutral-100 last:before:hidden",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-neutral-200 mt-1 relative z-10 shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-black text-neutral-900 leading-none mb-1 uppercase tracking-tight",children:c}),(0,b.jsxs)("p",{className:"text-[10px] font-bold text-neutral-400",children:[(0,j.formatToDDMMYYYY)(a)," • By ",d]})]})]})}(0,c.registerServerReference)(L,"408fd748541c7756a2e5bad756dc6fc95239fdbbfd",null),a.s(["$$RSC_SERVER_ACTION_0",0,F,"$$RSC_SERVER_ACTION_1",0,G,"$$RSC_SERVER_ACTION_2",0,H,"$$RSC_SERVER_ACTION_3",0,L,"default",()=>I,"revalidate",0,0],73525)}];

//# sourceMappingURL=OneDrive_Documents_syklicollege_src_app_admin_admissions_2e17a79b._.js.map